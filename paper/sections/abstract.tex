\begin{abstract}
  Systematically reasoning about the fine-grained causes of events in a
  real-world distributed system is challenging. Causality, from the distributed
  systems literature, can be used to compute the causal history of an arbitrary
  event in a distributed system, but the event's causal history is an
  overapproximation of the true causes. Data provenance, from the database
  literature, precisely describes why a particular tuple appears in the output
  of a relational query, but data provenance is limited to the domain of static
  relational databases. In this paper, we present \defword{\watprovenance{}}: a
  novel form of provenance that provides the benefits of causality and data
  provenance. Given an arbitrary state machine, \watprovenance{} describes why
  the state machine produces a particular output when given a particular input.
  This enables system developers to reason about the causes of events in
  real-world distributed systems. We observe that automatically extracting the
  \watprovenance{} of a state machine is often infeasible. Fortunately, many
  distributed systems components have simple interfaces from which a developer
  can directly specify \watprovenance{} using a technique we call
  \defword{\watprovenance{} specifications}. Leveraging the theoretical
  foundations of \watprovenance{}, we implement a prototype distributed
  debugging framework called \fluent{}.

  \begin{techreport}

    This version of the paper is a technical report that includes some additional
    information that is not present in our main publication. Additional text
    (like this) is annotated with a red bar along its left side.
  \end{techreport}
\end{abstract}
